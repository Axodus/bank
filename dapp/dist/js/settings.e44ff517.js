(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["settings"],{"269e":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",{staticClass:"d-flex justify-center text-center"},[t._v("Current Markets")]),r("div",{staticClass:"d-flex justify-center"},[r("v-card",{attrs:{width:"70%"}},[r("v-list",[r("v-list-item",[r("v-list-item-subtitle",{staticClass:"text-center"},[t._v("Symbol")]),r("v-list-item-subtitle",{staticClass:"text-center"},[t._v("Asset")]),r("v-list-item-subtitle",{staticClass:"text-center"},[t._v("Borrows")]),r("v-list-item-subtitle",{staticClass:"text-center"},[t._v("Supplies")]),r("v-list-item-subtitle",{staticClass:"text-center"},[t._v("Price")])],1),t._l(t.marketAddresses,(function(t,e){return r("market-list-item",{key:"market-list-item-"+e,attrs:{marketAddress:t}})}))],2)],1)],1)])},n=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list-item",{on:{click:function(e){return t.setMarket(t.marketAddress)}}},[r("v-list-item-title",{staticClass:"text-left"},[r("v-list-item-action",[r("v-icon",[t._v("local_convenience_store")])],1),t._v(" "+t._s(t.tokenSymbol)+" ")],1),r("v-list-item-title",{staticClass:"text-center"},[t._v(" "+t._s(t.tokenName)+" ")]),r("v-list-item-title",{staticClass:"text-center"},[t._v(" "+t._s(t.marketTotalBorrows)+" ")]),r("v-list-item-title",{staticClass:"text-center"},[t._v(" "+t._s(t.marketTotalSupply)+" ")]),r("v-list-item-title",{staticClass:"text-center"},[t._v(" "+t._s(t.price)+" ")])],1)},l=[],o=(r("d3b7"),r("3ca3"),r("ddb0"),r("3835")),i=r("4220"),c=r("8cc6"),u=r("0514"),d={name:"MarketListItem",props:{marketAddress:{type:String,required:!0}},data:function(){return{controller:null,market:null,marketTotalSupply:null,marketTotalBorrows:null,tokenName:null,tokenSymbol:null,price:null}},methods:{setMarket:function(t){this.$router.push({name:"Market",params:{id:t}})}},created:function(){var t=this;this.controller=new i["a"],this.market=new c["a"](this.marketAddress),this.market.eventualTotalSupply.then((function(e){t.marketTotalSupply=e})),this.market.eventualTotalBorrows.then((function(e){t.marketTotalBorrows=e})),this.market.eventualTokenAddress.then((function(t){var e=new u["a"](t);return[e.eventualName,e.eventualSymbol]})).then((function(t){return Promise.all(t)})).then((function(e){var r=Object(o["a"])(e,2),a=r[0],n=r[1];t.tokenName=a,t.tokenSymbol=n})),this.controller.getPrice(this.marketAddress).then((function(e){t.price=e}))}},m=d,v=r("2877"),f=r("6544"),k=r.n(f),h=r("132d"),p=r("da13"),b=r("1800"),w=r("5d23"),_=Object(v["a"])(m,s,l,!1,null,null,null),C=_.exports;k()(_,{VIcon:h["a"],VListItem:p["a"],VListItemAction:b["a"],VListItemTitle:w["c"]});var F={name:"MarketsList",props:{marketAddresses:{type:Array,default:function(){return[]}}},components:{MarketListItem:C}},x=F,A=r("b0af"),y=r("8860"),M=Object(v["a"])(x,a,n,!1,null,null,null);e["a"]=M.exports;k()(M,{VCard:A["a"],VList:y["a"],VListItem:p["a"],VListItemSubtitle:w["b"]})},"26d3":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"settings"},[r("h1",[t._v("Settings")]),r("controller-form"),r("market-form",{on:{marketCreated:t.loadMarkets}}),r("markets-list",{attrs:{marketAddresses:t.marketAddresses}})],1)},n=[],s=r("5530"),l=r("2f62"),o=r("4220"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{attrs:{fluid:""}},[r("v-row",[r("h2",[t._v("Controller data")])]),r("v-form",{ref:"form",attrs:{"lazy-validation":!0}},[r("v-row",[r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Collateral Factor",type:"number"},model:{value:t.collateralFactor,callback:function(e){t.collateralFactor=e},expression:"collateralFactor"}})],1),r("v-col",{attrs:{cols:"6"}},[r("v-text-field",{attrs:{label:"Liquidation Factor",type:"number"},model:{value:t.liquidationFactor,callback:function(e){t.liquidationFactor=e},expression:"liquidationFactor"}})],1)],1),r("v-row",[r("v-btn",{staticClass:"success",on:{click:t.setFactors}},[t._v(" Set Factors ")])],1)],1)],1)},c=[],u={name:"ControllerForm",data:function(){return{controller:null,collateralFactor:null,liquidationFactor:null}},computed:Object(s["a"])({},Object(l["d"])({from:function(t){return{from:t.Session.account}}})),methods:{setFactors:function(){this.controller.setCollateralFactor(this.from,this.collateralFactor),this.controller.setLiquidationFactor(this.from,this.liquidationFactor)}},created:function(){var t=this;this.controller=new o["a"],this.controller.eventualCollateralFactor.then((function(e){t.collateralFactor=e})),this.controller.eventualLiquidationFactor.then((function(e){t.liquidationFactor=e}))}},d=u,m=r("2877"),v=r("6544"),f=r.n(v),k=r("8336"),h=r("62ad"),p=r("a523"),b=r("4bd4"),w=r("0fd9"),_=r("8654"),C=Object(m["a"])(d,i,c,!1,null,null,null),F=C.exports;f()(C,{VBtn:k["a"],VCol:h["a"],VContainer:p["a"],VForm:b["a"],VRow:w["a"],VTextField:_["a"]});var x=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"MarketForm"},[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("h2",[t._v("Add a new Market")])]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-form",{ref:"form",attrs:{"lazy-validation":!0}},[r("v-text-field",{attrs:{label:"Token Base Address",required:""},model:{value:t.tokenAddress,callback:function(e){t.tokenAddress=e},expression:"tokenAddress"}}),r("v-text-field",{attrs:{label:"Market Base Borrow Rate",type:"number",required:""},model:{value:t.marketBaseBorrowRate,callback:function(e){t.marketBaseBorrowRate=e},expression:"marketBaseBorrowRate"}}),r("v-btn",{attrs:{color:"success"},on:{click:t.createMarket}},[t._v(" Create Market ")])],1)],1)],1)],1)],1)},A=[],y=r("8cc6"),M={name:"MarketForm",data:function(){return{controller:null,tokenAddress:null,marketBaseBorrowRate:null}},computed:Object(s["a"])({},Object(l["d"])({from:function(t){return{from:t.Session.account}}})),methods:{createMarket:function(){var t=this;y["a"].deploy(this.from,this.tokenAddress,this.marketBaseBorrowRate).then((function(e){var r=new y["a"](e);return r.setController(t.from,t.controller.address),t.controller.addMarket(t.from,e)})).then((function(){t.$emit("marketCreated")})),this.$refs.form.reset()}},created:function(){this.controller=new o["a"]}},B=M,V=Object(m["a"])(B,x,A,!1,null,null,null),S=V.exports;f()(V,{VBtn:k["a"],VCol:h["a"],VContainer:p["a"],VForm:b["a"],VRow:w["a"],VTextField:_["a"]});var O=r("269e"),j={name:"Settings",data:function(){return{controller:null,marketAddresses:[]}},computed:Object(s["a"])({},Object(l["d"])({isOwner:function(t){return t.Session.isOwner}})),watch:{isOwner:function(t){t||this.$router.push({name:"Home"})}},methods:{loadMarkets:function(){var t=this;this.controller.eventualMarketAddresses.then((function(e){t.marketAddresses=e}))}},components:{ControllerForm:F,MarketForm:S,MarketsList:O["a"]},created:function(){this.controller=new o["a"],this.loadMarkets()}},L=j,T=Object(m["a"])(L,a,n,!1,null,null,null);e["default"]=T.exports}}]);
//# sourceMappingURL=settings.e44ff517.js.map